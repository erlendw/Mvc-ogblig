@model nettButikkpls.Models.Product

<!DOCTYPE html>

<head>
    <meta name="viewport" content="width=device-width" />
    <title>RegProduct</title>
</head>

<div class="container">

    <div class="spacer">

        <div class="col-md-6 col-md-offset-3">

            <h2 class="form-signin-heading">Register a new product</h2>

            <form class="form-horizontal" action="/Product/RegProduct" method="post">
                <div class="form-group">
                    <div class="col-sm-10">
                        <input type="text" class="form-control" placeholder="Productname" name="productname">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10">
                        <input type="text" class="form-control" placeholder="Price" name="price">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10">
                        <textarea class="form-control" rows="5" name="description" placeholder="Description" style="resize:none;"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-10">
                        <div action="~/Product/SaveImagesToServer" class="dropzone" id="dropzoneJsForm">

                            <div class="dz-message lead">Feed me pictures! <br /> <span class="text-muted small"> (or click me)</span></div>

                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10">
                        <input class="btn btn-lg btn-primary btn-block" type="submit" value="Register" id="submit-all"/>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>



@Scripts.Render("~/bundles/dropzonescripts")
@Scripts.Render("~/bundles/jquery")

<script type="text/javascript">
    Dropzone.options.dropzoneJsForm = {

        //prevents Dropzone from uploading dropped files immediately
        autoProcessQueue: false,dictDefaultMessage : 'Give your files to me!',

        init: function () {
            var submitButton = document.querySelector("#submit-all");
            var myDropzone = this; //closure

            submitButton.addEventListener("click", function () {

                //tell Dropzone to process all queued files
                myDropzone.processQueue();
            });

        }
    };
    //http://sampathloku.blogspot.no/2014/02/dropzonejs-with-aspnet-mvc-5.html
</script>

